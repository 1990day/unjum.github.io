<!DOCTYPE html>
<html lang="ko">
<head>
      <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="icon" href="/favicon.png" type="image/png">
    <title>ìš´ì  - í”„ë¦¬ë¯¸ì—„ ì‚¬ì£¼ ì •ë°€ ê¶í•©</title>
    <meta name="description" content="ìš´ì  - í”„ë¦¬ë¯¸ì—„ ì‚¬ì£¼ ì •ë°€ ê¶í•©">
<meta name="keywords" content="ìš´ì , ì‚¬ì£¼, ë¬´ë£Œì‚¬ì£¼, ì˜¤ëŠ˜ì˜ìš´ì„¸, ìš´ì ìš´ì„¸, ë¬´ë£Œê¶í•©, ì‹ ë…„ìš´ì„¸, ë³‘ì˜¤ë…„ìš´ì„¸, ì •í†µë§Œì„¸ë ¥, ìš´ì ë§Œì„¸ë ¥, ë¬´ë£Œë§Œì„¸ë ¥, ë§Œì„¸ë ¥í™•ì¸, ë¬´ë£Œì‚¬ì£¼í’€ì´, ì •í†µì‚¬ì£¼, ìš´ì ì •í†µì‚¬ì£¼, ë„í™”ì‚´ì§„ë‹¨, ìš´ì ë„í™”ì‚´ì§„ë‹¨, ìš´ì í‰ìƒìš´ì„¸, ìš´ì ë³„ìë¦¬ìš´ì„¸, ìš´ì ì‚¬ì£¼, ìš´ì ì‚¬ì£¼í’€ì´">
    <meta property="og:type" content="website"> 
    <meta property="og:title" content="ìš´ì  - í”„ë¦¬ë¯¸ì—„ ì‚¬ì£¼ ì •ë°€ ê¶í•©">
    <meta property="og:description" content="ìš´ì  - í”„ë¦¬ë¯¸ì—„ ì‚¬ì£¼ ì •ë°€ ê¶í•©">
    <meta property="og:url" content="https://unjum.co.kr/saju-compatibility">
    <script src="https://unpkg.com/lunar-javascript/lunar.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>

    <style>
        @font-face {
            font-family: 'ThinRounded';
            src: url('https://cdn.jsdelivr.net/gh/projectnoonnu/2511-1@1.0/ThinDungGeunMo.woff2') format('woff2');
            font-weight: normal;
            font-style: normal;
            font-display: swap;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }

        :root {
            /* ê¶í•© í˜ì´ì§€ ì „ìš© í…Œë§ˆ (Green & Gold) */
            --bg-color: #051e18;
            --header-bg: #03120e;
            --sidebar-bg: #07261e;
            --accent-color: #00e676; 
            --gold-color: #ffd700;
            --text-color: #e0f2f1;
            --panel-bg: rgba(255, 255, 255, 0.05);
            --border-color: rgba(0, 230, 118, 0.3);
            --danger-color: #ff5252;
            --overlay-bg: rgba(0, 0, 0, 0.7);
        }

        ::-webkit-scrollbar { width: 10px; }
        ::-webkit-scrollbar-track { background: var(--bg-color); }
        ::-webkit-scrollbar-thumb { background: var(--accent-color); border-radius: 10px; border: 2px solid var(--bg-color); }

        body {
            font-family: 'ThinRounded', sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            overflow-x: hidden;
            line-height: 1.7;
        }

        /* --- [í†µì¼] ìƒë‹¨ í—¤ë” --- */
        header {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 70px;
            background-color: var(--header-bg);
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 40px;
            z-index: 1000;
            border-bottom: 1px solid rgba(255, 215, 0, 0.2);
        }

        .logo img { height: 40px; width: auto; }

        /* [PCìš©] ìƒë‹¨ ë©”ë‰´ */
        .top-menu { display: flex; gap: 30px; height: 100%; align-items: center; }
        .menu-item { position: relative; height: 100%; display: flex; align-items: center; cursor: pointer; }
        .menu-title { color: #b2dfdb; text-decoration: none; font-size: 1.1rem; transition: 0.3s; white-space: nowrap; }
        .menu-item:hover .menu-title { color: var(--gold-color); }

        /* [PCìš©] ë“œë¡­ë‹¤ìš´ */
        .dropdown-content {
            display: none; position: absolute; top: 70px; left: 50%; transform: translateX(-50%);
            background-color: var(--header-bg); min-width: 160px; box-shadow: 0 8px 16px rgba(0,0,0,0.5);
            border: 1px solid var(--accent-color); border-radius: 0 0 10px 10px; z-index: 1001; flex-direction: column; padding: 10px 0;
        }
        .dropdown-content a { color: var(--text-color); padding: 12px 16px; text-decoration: none; display: block; font-size: 0.95rem; text-align: center; }
        .dropdown-content a:hover { background-color: var(--sidebar-bg); color: var(--gold-color); }
        @media (min-width: 769px) { .menu-item:hover .dropdown-content { display: flex; } }

        /* [ëª¨ë°”ì¼ìš©] í–„ë²„ê±° ë²„íŠ¼ */
        .hamburger-btn {
            display: none; flex-direction: column; justify-content: space-between;
            width: 30px; height: 21px; cursor: pointer; z-index: 1100;
        }
        .hamburger-btn span {
            display: block; width: 100%; height: 3px;
            background-color: var(--gold-color); /* í…Œë§ˆ ì»¬ëŸ¬ ì ìš© */
            border-radius: 3px; transition: all 0.3s ease;
        }
        .hamburger-btn.active span:nth-child(1) { transform: translateY(9px) rotate(45deg); }
        .hamburger-btn.active span:nth-child(2) { opacity: 0; }
        .hamburger-btn.active span:nth-child(3) { transform: translateY(-9px) rotate(-45deg); }


        /* --- [í†µì¼] ì‚¬ì´ë“œë°” --- */
        .sidebar {
            position: fixed; top: 70px; left: 0; width: 260px; height: calc(100vh - 70px);
            background-color: var(--sidebar-bg); padding: 30px 20px; overflow-y: auto; 
            border-right: 1px solid rgba(255, 215, 0, 0.1);
            z-index: 1050; transition: left 0.3s ease-in-out; /* ìŠ¬ë¼ì´ë“œ íš¨ê³¼ */
        }
        .category-title { font-size: 1.1rem; color: var(--gold-color); margin-bottom: 15px; display: block; font-weight: bold; border-bottom: 1px solid rgba(255,255,255,0.1); padding-bottom: 5px; }
        .sub-menu { list-style: none; padding-left: 10px; margin-bottom: 30px; }
        .sub-menu li { margin: 12px 0; }
        .sub-menu a { color: #b2dfdb; text-decoration: none; font-size: 0.95rem; transition: 0.2s; }
        .sub-menu a:hover { padding-left: 5px; color: var(--accent-color); }

        /* [í†µì¼] ëª¨ë°”ì¼ìš© ì˜¤ë²„ë ˆì´ */
        .overlay {
            display: none; position: fixed; top: 70px; left: 0;
            width: 100%; height: calc(100vh - 70px);
            background-color: var(--overlay-bg); z-index: 90; opacity: 0; transition: opacity 0.3s ease;
        }
        .overlay.active { display: block; opacity: 1; }


        /* --- ë©”ì¸ ì˜ì—­ --- */
        main {
            margin-top: 70px; margin-left: 260px; padding: 40px 20px;
            display: flex; flex-direction: column; align-items: center; min-height: calc(100vh - 70px);
            background: radial-gradient(circle at top, #0f3d32 0%, var(--bg-color) 80%);
            transition: margin-left 0.3s ease;
        }

        .page-header { text-align: center; margin-bottom: 40px; }
        .page-title { font-size: 2.5rem; color: var(--accent-color); text-shadow: 0 0 15px rgba(0, 230, 118, 0.4); margin-bottom: 10px; }
        .page-desc { color: #b2dfdb; font-size: 1.0rem; opacity: 0.8; }

        /* --- ì…ë ¥ ì»¨í…Œì´ë„ˆ --- */
        .input-container {
            width: 100%; max-width: 900px;
            background: var(--panel-bg); border: 1px solid var(--border-color);
            border-radius: 20px; padding: 30px;
            backdrop-filter: blur(10px); box-shadow: 0 15px 35px rgba(0,0,0,0.5);
        }

        .couple-grid { display: grid; grid-template-columns: 1fr 50px 1fr; gap: 20px; align-items: start; }
        
        .person-box { background: rgba(0,0,0,0.2); padding: 20px; border-radius: 15px; border: 1px solid rgba(255,255,255,0.05); position: relative;}
        .person-tag { 
            position: absolute; top: -10px; left: 20px; background: var(--bg-color); border: 1px solid var(--gold-color);
            color: var(--gold-color); padding: 2px 10px; font-size: 0.8rem; border-radius: 10px;
        }
        
        .vs-badge { 
            display: flex; align-items: center; justify-content: center; height: 100%; 
            font-size: 1.5rem; color: var(--danger-color); font-weight: bold; align-self: center; padding-top: 50px;
        }

        .input-row { margin-bottom: 15px; }
        .input-label { display: block; color: var(--accent-color); font-size: 0.9rem; margin-bottom: 8px; }
        .input-field {
            width: 100%; padding: 12px; border-radius: 8px; border: 1px solid #4db6ac;
            background: rgba(0, 0, 0, 0.4); color: #fff; font-size: 0.95rem; font-family: inherit; outline: none;
        }
        .date-grid { display: grid; grid-template-columns: 1.2fr 0.9fr 0.9fr; gap: 5px; }

        .submit-btn {
            width: 100%; padding: 18px; margin-top: 30px; border: none; border-radius: 15px;
            background: linear-gradient(135deg, var(--accent-color), #00bfa5);
            color: #03120e; font-size: 1.3rem; font-weight: bold; cursor: pointer;
            box-shadow: 0 5px 20px rgba(0, 230, 118, 0.3); transition: 0.3s;
        }
        .submit-btn:hover { transform: translateY(-3px); filter: brightness(1.1); }

        /* --- ê²°ê³¼ ì˜ì—­ --- */
        #result-area { display: none; width: 100%; max-width: 900px; animation: slideUp 0.8s ease; }
        @keyframes slideUp { from { opacity: 0; transform: translateY(30px); } to { opacity: 1; transform: translateY(0); } }

        .score-section {
            background: linear-gradient(135deg, rgba(0,77,64,0.9), rgba(0,0,0,0.9));
            border: 1px solid var(--accent-color); border-radius: 20px; padding: 40px;
            text-align: center; margin-bottom: 30px; position: relative; overflow: hidden;
        }
        .score-val { font-size: 5rem; font-weight: bold; color: var(--gold-color); text-shadow: 0 0 30px rgba(255, 215, 0, 0.6); line-height: 1.1; margin: 10px 0;}
        .score-msg { font-size: 1.8rem; color: #fff; font-weight: bold; margin-bottom: 5px; }
        .score-sub { font-size: 1rem; color: #b2dfdb; opacity: 0.8; }

        /* ì°¨íŠ¸ */
        .chart-container {
            background: rgba(0,0,0,0.3); border-radius: 15px; padding: 25px; margin-bottom: 30px;
            border: 1px solid rgba(255,255,255,0.1);
        }
        .chart-title { text-align: center; color: #fff; margin-bottom: 20px; font-size: 1.2rem; }

        /* í…ìŠ¤íŠ¸ ë¶„ì„ ì¹´ë“œ */
        .detail-card {
            background: rgba(7, 38, 30, 0.8); border: 1px solid rgba(255, 215, 0, 0.2);
            border-radius: 15px; padding: 35px; margin-bottom: 30px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.3);
        }
        .detail-title { 
            color: var(--gold-color); font-size: 1.5rem; margin-bottom: 20px; 
            border-bottom: 2px solid var(--accent-color); padding-bottom: 10px; display: block;
        }
        .detail-content { color: #e0f2f1; line-height: 1.9; font-size: 1.05rem; word-break: keep-all; text-align: justify; }
        
        .highlight { color: var(--accent-color); font-weight: bold; }
        .gold-text { color: var(--gold-color); font-weight: bold; }
        .warn-text { color: var(--danger-color); font-weight: bold; }

        /* --- [í†µì¼] ë°˜ì‘í˜• ë¡œì§ (768px ì´í•˜) --- */
        @media (max-width: 768px) {
            header { padding: 0 20px; height: 60px; }
            .logo img { height: 28px; }
            
            /* ë©”ë‰´ ì œì–´ */
            .top-menu { display: none; }
            .hamburger-btn { display: flex; }

            /* ì‚¬ì´ë“œë°” ì œì–´ */
            .sidebar { left: -270px; top: 60px; height: calc(100vh - 60px); display: block; /* ì¸ë¼ì¸ ë¸”ë¡ ì œê±° ë° ìœ„ì¹˜ì œì–´ */ }
            .sidebar.open { left: 0; }
            .overlay { top: 60px; height: calc(100vh - 60px); }

            /* ë©”ì¸ ì˜ì—­ ì œì–´ */
            main { margin-left: 0; margin-top: 60px; padding: 20px; }

            /* ì½˜í…ì¸  ìŠ¤íƒ€ì¼ */
            .couple-grid { grid-template-columns: 1fr; gap: 30px; }
            .vs-badge { transform: none; padding: 10px 0; height: auto; font-size: 2rem; }
            .score-val { font-size: 4rem; }
        }
    </style>
</head>
<body>

    <header>
        <a href="index.html" class="logo"><img src="img_logo1.png" alt="logo"></a>
        
        <nav class="top-menu">
            <div class="menu-item">
                <span class="menu-title">ìš´ì„¸</span>
                <div class="dropdown-content">
                    <a href="today_fortune.html">ì˜¤ëŠ˜ì˜ ìš´ì„¸</a>
                    <a href="new_year_fortune.html">ì‹ ë…„ ìš´ì„¸</a>
                    <a href="lifetime_fortune.html">í‰ìƒ ìš´ì„¸</a>
                </div>
            </div>
            <div class="menu-item">
                <span class="menu-title">ì‚¬ì£¼</span>
                <div class="dropdown-content">
                    <a href="manse_calendar.html">ì •í†µ ë§Œì„¸ë ¥</a>
                    <a href="traditional_saju.html">ì •í†µ ì‚¬ì£¼</a>
                    <a href="my_saju.html">ë‚´ ì‚¬ì£¼ í’€ì´</a>
                                <a href="positive-saju.html">ì¢‹ì€ ë§ë§Œ í•˜ëŠ” ì‚¬ì£¼</a>
                    <a href="negative-saju.html">ë‚˜ìœ ë§ë§Œ í•˜ëŠ” ì‚¬ì£¼</a>
                </div>
            </div>
            <div class="menu-item">
                <span class="menu-title">ì—°ì• </span>
                <div class="dropdown-content">
                    <a href="love-fortune.html">í‰ìƒ ì—°ì• ìš´</a>
                    <a href="saju-compatibility.html" style="color:var(--gold-color);">ì‚¬ì£¼ ê¶í•©</a>
                    <a href="reunion-saju.html">ì¬íšŒ ì‚¬ì£¼</a>
                </div>
            </div>
            <div class="menu-item">
                <span class="menu-title">ë„íŒŒë¯¼</span>
                <div class="dropdown-content">
                    <a href="charm-score.html">ë‚´ ì‚¬ì£¼ ë§¤ë ¥</a>
                    <a href="saju-popularity.html">ì‚¬ì£¼ ì¸ê¸°ìš´</a>
                    <a href="dohwasal-check.html">ë„í™”ì‚´ ì§„ë‹¨ê¸°</a>
                    <a href="saju-spotlight.html">ì£¼ëª©ë°›ëŠ” ì‚¬ì£¼</a>
                </div>
            </div>
            <div class="menu-item">
                <span class="menu-title">ë³„ìë¦¬</span>
                <div class="dropdown-content">
                    <a href="weekly-zodiac.html">ì´ë²ˆì£¼ ë³„ìë¦¬</a>
                    <a href="monthly-zodiac.html">ì´ë²ˆë‹¬ ë³„ìë¦¬</a>
                </div>
            </div>
        </nav>

        <div class="hamburger-btn" onclick="toggleSidebar()">
            <span></span>
            <span></span>
            <span></span>
        </div>
    </header>

    <div class="overlay" onclick="toggleSidebar()"></div>

    <aside class="sidebar" id="sidebar">
        <div class="category-title">ìš´ì„¸</div>
        <ul class="sub-menu">
            <li><a href="today_fortune.html">ì˜¤ëŠ˜ì˜ ìš´ì„¸</a></li>
            <li><a href="new_year_fortune.html">ì‹ ë…„ ìš´ì„¸</a></li>
            <li><a href="lifetime_fortune.html">í‰ìƒ ìš´ì„¸</a></li>
        </ul>
        <div class="category-title">ì‚¬ì£¼</div>
        <ul class="sub-menu">
            <li><a href="manse_calendar.html">ì •í†µ ë§Œì„¸ë ¥</a></li>
            <li><a href="traditional_saju.html">ì •í†µ ì‚¬ì£¼</a></li>
            <li><a href="my_saju.html">ë‚´ ì‚¬ì£¼ í’€ì´</a></li>
                       <li><a href="positive-saju.html">ì¢‹ì€ ë§ë§Œ í•˜ëŠ” ì‚¬ì£¼</a></li>
        <li><a href="negative-saju.html">ë‚˜ìœ ë§ë§Œ í•˜ëŠ” ì‚¬ì£¼</a></li>
        </ul>
        <div class="category-title">ì—°ì• </div>
        <ul class="sub-menu">
            <li><a href="love-fortune.html">í‰ìƒ ì—°ì• ìš´</a></li>
            <li><a href="saju-compatibility.html" style="color:var(--accent-color);">ì‚¬ì£¼ ê¶í•©</a></li>
            <li><a href="reunion-saju.html">ì¬íšŒ ì‚¬ì£¼</a></li>
        </ul>
        <div class="category-title">ë„íŒŒë¯¼</div>
        <ul class="sub-menu">
            <li><a href="charm-score.html">ë‚´ ì‚¬ì£¼ì˜ ë§¤ë ¥ë„</a></li>
            <li><a href="saju-popularity.html">ì‚¬ì£¼ì— ìˆëŠ” ì¸ê¸°ìš´</a></li>
            <li><a href="dohwasal-check.html">ë„í™”ì‚´ ì§„ë‹¨ê¸°</a></li>
            <li><a href="saju-spotlight.html">ì£¼ëª©ë°›ëŠ” ì‚¬ì£¼</a></li>
        </ul>
        <div class="category-title">ë³„ìë¦¬</div>
        <ul class="sub-menu">
            <li><a href="weekly-zodiac.html">ì´ë²ˆì£¼ ë³„ìë¦¬ ìš´ì„¸</a></li>
            <li><a href="monthly-zodiac.html">ì´ë²ˆë‹¬ ë³„ìë¦¬ ìš´ì„¸</a></li>
        </ul>
    </aside>

    <main>
        <div class="page-header">
            <h1 class="page-title">í”„ë¦¬ë¯¸ì—„ ì •ë°€ ê¶í•©</h1>
            <p class="page-desc">ì •í†µ ëª…ë¦¬í•™ ì‹œê°„ë²• ì ìš© Â· ì˜¤í–‰ ë°¸ëŸ°ìŠ¤ Â· ê¸°ì§ˆ ì •ë°€ ë¶„ì„</p>
        </div>

        <div class="input-container" id="inputArea">
            <div class="couple-grid">
                <div class="person-box">
                    <span class="person-tag">ë³¸ì¸ (Me)</span>
                    <div class="input-row" style="margin-top: 10px;">
                        <label class="input-label">ì´ë¦„</label>
                        <input type="text" class="input-field" id="name1" placeholder="ë‚´ ì´ë¦„">
                    </div>
                    <div class="input-row">
                        <label class="input-label">ìƒë…„ì›”ì¼ (ì–‘ë ¥)</label>
                        <div class="date-grid">
                            <select class="input-field year-select" id="year1"></select>
                            <select class="input-field month-select" id="month1"></select>
                            <select class="input-field day-select" id="day1"></select>
                        </div>
                    </div>
                    <div class="input-row">
                        <label class="input-label">íƒœì–´ë‚œ ì‹œê°„ (í•œêµ­ í‘œì¤€ì‹œ ì ìš©)</label>
                        <select class="input-field time-select" id="time1"></select>
                    </div>
                </div>

                <div class="vs-badge">VS</div>

                <div class="person-box">
                    <span class="person-tag">ìƒëŒ€ë°© (You)</span>
                    <div class="input-row" style="margin-top: 10px;">
                        <label class="input-label">ì´ë¦„</label>
                        <input type="text" class="input-field" id="name2" placeholder="ìƒëŒ€ë°© ì´ë¦„">
                    </div>
                    <div class="input-row">
                        <label class="input-label">ìƒë…„ì›”ì¼ (ì–‘ë ¥)</label>
                        <div class="date-grid">
                            <select class="input-field year-select" id="year2"></select>
                            <select class="input-field month-select" id="month2"></select>
                            <select class="input-field day-select" id="day2"></select>
                        </div>
                    </div>
                    <div class="input-row">
                        <label class="input-label">íƒœì–´ë‚œ ì‹œê°„ (í•œêµ­ í‘œì¤€ì‹œ ì ìš©)</label>
                        <select class="input-field time-select" id="time2"></select>
                    </div>
                </div>
            </div>
            
            <button class="submit-btn" onclick="analyzeGunghap()">ê¶í•© ì •ë°€ ë¶„ì„ ì‹œì‘</button>
        </div>

        <div id="result-area">
            
            <div class="score-section">
                <div class="score-msg" id="scoreMsg"></div>
                <div class="score-val" id="totalScore">0</div>
                <div class="score-sub" id="scoreSub"></div>
            </div>

            <div class="chart-container">
                <div class="chart-title">ğŸ“Š ë‘ ì‚¬ëŒì˜ ì—ë„ˆì§€(äº”è¡Œ) ë°¸ëŸ°ìŠ¤</div>
                <canvas id="elementChart" height="90"></canvas>
                <p style="text-align: center; color: #b2dfdb; font-size: 0.9rem; margin-top: 15px;">
                    * ê²¹ì¹˜ì§€ ì•Šê³  ì„œë¡œì˜ ë¹ˆ ê³µê°„ì„ ì±„ì›Œì¤„ìˆ˜ë¡ ì™„ë²½í•œ ì¡°í™”ì…ë‹ˆë‹¤.
                </p>
            </div>

            <div class="detail-card">
                <span class="detail-title">â˜¯ï¸ ê¸°ì§ˆ ë° ì„±ê²© ì •ë°€ ë¶„ì„</span>
                <div class="detail-content" id="analysisText"></div>
            </div>

            <div class="detail-card">
                <span class="detail-title">ğŸ“œ ë§ˆìŠ¤í„°ì˜ ì‹¬ì¸µ ì¡°ì–¸</span>
                <div class="detail-content" id="masterAdvice"></div>
            </div>

            <button class="submit-btn" style="background: #37474f; margin-top: 10px;" onclick="location.reload()">ìƒˆë¡œìš´ ê¶í•© ë³´ê¸°</button>
        </div>
    </main>

    <script>
        // [ì¶”ê°€] í–„ë²„ê±° í† ê¸€ í•¨ìˆ˜
        function toggleSidebar() {
            const sidebar = document.getElementById('sidebar');
            const overlay = document.querySelector('.overlay');
            const hamburger = document.querySelector('.hamburger-btn');

            sidebar.classList.toggle('open');
            overlay.classList.toggle('active');
            hamburger.classList.toggle('active');
        }

        // --- 1. ì´ˆê¸° ì„¸íŒ… ---
        window.onload = function() {
            initDateSelectors();
        };

        function initDateSelectors() {
            const years = document.querySelectorAll('.year-select');
            const months = document.querySelectorAll('.month-select');
            const days = document.querySelectorAll('.day-select');
            const times = document.querySelectorAll('.time-select');

            const currentYear = new Date().getFullYear();
            years.forEach(sel => {
                for(let i = currentYear; i >= 1940; i--) {
                    let opt = document.createElement('option'); opt.value = i; opt.innerText = i + 'ë…„'; sel.appendChild(opt);
                }
                sel.value = 1995;
            });

            months.forEach(sel => {
                for(let i=1; i<=12; i++) {
                    let opt = document.createElement('option'); opt.value = i; opt.innerText = i + 'ì›”'; sel.appendChild(opt);
                }
            });

            days.forEach(sel => {
                for(let i=1; i<=31; i++) {
                    let opt = document.createElement('option'); opt.value = i; opt.innerText = i + 'ì¼'; sel.appendChild(opt);
                }
            });

            const sajuTimes = [
                { val: 0, text: "ìì‹œ (23:30 ~ 01:29)" }, { val: 2, text: "ì¶•ì‹œ (01:30 ~ 03:29)" },
                { val: 4, text: "ì¸ì‹œ (03:30 ~ 05:29)" }, { val: 6, text: "ë¬˜ì‹œ (05:30 ~ 07:29)" },
                { val: 8, text: "ì§„ì‹œ (07:30 ~ 09:29)" }, { val: 10, text: "ì‚¬ì‹œ (09:30 ~ 11:29)" },
                { val: 12, text: "ì˜¤ì‹œ (11:30 ~ 13:29)" }, { val: 14, text: "ë¯¸ì‹œ (13:30 ~ 15:29)" },
                { val: 16, text: "ì‹ ì‹œ (15:30 ~ 17:29)" }, { val: 18, text: "ìœ ì‹œ (17:30 ~ 19:29)" },
                { val: 20, text: "ìˆ ì‹œ (19:30 ~ 21:29)" }, { val: 22, text: "í•´ì‹œ (21:30 ~ 23:29)" }
            ];

            times.forEach(sel => {
                sajuTimes.forEach(t => {
                    let opt = document.createElement('option'); opt.value = t.val; opt.innerText = t.text; sel.appendChild(opt);
                });
            });
        }

        // --- 2. ë°ì´í„° ë° ë¡œì§ ---
        const GAN = { 'ç”²': 'ëª©', 'ä¹™': 'ëª©', 'ä¸™': 'í™”', 'ä¸': 'í™”', 'æˆŠ': 'í† ', 'å·±': 'í† ', 'åºš': 'ê¸ˆ', 'è¾›': 'ê¸ˆ', 'å£¬': 'ìˆ˜', 'ç™¸': 'ìˆ˜' };
        const ZHI = { 'å­': 'ìˆ˜', 'ä¸‘': 'í† ', 'å¯…': 'ëª©', 'å¯': 'ëª©', 'è¾°': 'í† ', 'å·³': 'í™”', 'åˆ': 'í™”', 'æœª': 'í† ', 'ç”³': 'ê¸ˆ', 'é…‰': 'ê¸ˆ', 'æˆŒ': 'í† ', 'äº¥': 'ìˆ˜' };

        function analyzeGunghap() {
            const n1 = document.getElementById('name1').value || 'Aë‹˜';
            const n2 = document.getElementById('name2').value || 'Bë‹˜';
            
            const s1 = getSaju(1);
            const s2 = getSaju(2);
            if(!s1 || !s2) return;

            document.getElementById('inputArea').style.display = 'none';
            document.getElementById('result-area').style.display = 'block';
            window.scrollTo(0, 0);

            // 1. ì ìˆ˜ ê³„ì‚° (ì •ë°€ ë¡œì§)
            const result = calculateDetailedScore(s1, s2);
            const score = result.score;
            
            // 2. ì ìˆ˜ ì• ë‹ˆë©”ì´ì…˜ ë° ë“±ê¸‰ í‘œì‹œ
            animateScore(score);
            setScoreLevel(score);

            // 3. ì°¨íŠ¸ ê·¸ë¦¬ê¸°
            drawChart(n1, s1.counts, n2, s2.counts);

            // 4. ìƒì„¸ í…ìŠ¤íŠ¸ ìƒì„±
            generateAnalysisText(n1, s1, n2, s2, result);

            // 5. ë§ˆìŠ¤í„° ì¡°ì–¸ ìƒì„±
            generateMasterAdvice(n1, n2, score, result.relation);
        }

        function calculateDetailedScore(s1, s2) {
            let score = 70; // ê¸°ë³¸ ì ìˆ˜
            let relation = ''; // ê´€ê³„ (ìƒ, ê·¹, ë¹„)

            // ì¼ê°„ ê´€ê³„ (ê°€ì¹˜ê´€)
            const r = getRelation(s1.stem, s2.stem);
            relation = r;
            if(r === 'ìƒ') score += 20; // ìƒìƒ (+20)
            else if(r === 'ë¹„') score += 10; // ë¹„ê²¬ (+10)
            else score -= 5; // ìƒê·¹ (-5)

            // ì¼ì§€ ê´€ê³„ (ì†Œí†µ/ê°ˆë“±) - ì†ê¶í•© ëŒ€ì‹  ì‚¬ìš©
            const zResult = checkZhiRelation(s1.branch, s2.branch);
            score += zResult.point;

            // ì˜¤í–‰ ë³´ì™„ ì ìˆ˜ (ë‚´ê°€ ì—†ëŠ”ê±¸ ìƒëŒ€ê°€ ê°€ì§€ë©´ +)
            let bonus = 0;
            for(let k in s1.counts) if(s1.counts[k]===0 && s2.counts[k]>=1) bonus += 5;
            for(let k in s2.counts) if(s2.counts[k]===0 && s1.counts[k]>=1) bonus += 5;
            score += Math.min(bonus, 15); // ìµœëŒ€ 15ì 

            if(score > 100) score = 100;
            if(score < 0) score = 0;

            return { score, relation, zType: zResult.type, zDesc: zResult.desc };
        }

        function setScoreLevel(score) {
            let msg = "";
            let sub = "";
            
            if (score >= 95) {
                msg = "ì²œëª…(å¤©å‘½): í•˜ëŠ˜ì´ ë§ºì–´ì¤€ ìš´ëª…";
                sub = "ìˆ˜ë§Œ ë²ˆì˜ ì¸ì—° ëì— ë§Œë‚œ ì˜í˜¼ì˜ ë‹¨ì§ì…ë‹ˆë‹¤.";
            } else if (score >= 85) {
                msg = "ëŒ€ê¸¸(å¤§å‰): ì„œë¡œë¥¼ ì„±ì¥ì‹œí‚¤ëŠ” ê·€ì¸";
                sub = "í•¨ê»˜í• ìˆ˜ë¡ ì‹œë„ˆì§€ê°€ í­ë°œí•˜ëŠ” í›Œë¥­í•œ íŒŒíŠ¸ë„ˆì…ë‹ˆë‹¤.";
            } else if (score >= 75) {
                msg = "ê¸¸(å‰): ì•ˆì •ì ì´ê³  í¸ì•ˆí•œ ì‚¬ì´";
                sub = "í° ê¸°ë³µ ì—†ì´ ì¹œêµ¬ì²˜ëŸ¼ í‰ìƒì„ í•¨ê»˜í•  ìˆ˜ ìˆëŠ” ê¶í•©ì…ë‹ˆë‹¤.";
            } else if (score >= 60) {
                msg = "í‰(å¹³): ì¡°ìœ¨ê³¼ ì´í•´ê°€ í•„ìš”í•œ ê´€ê³„";
                sub = "ë§¤ë ¥ì€ ëŠë¼ì§€ë§Œ ì„œë¡œì˜ ë‹¤ë¦„ì„ ì¸ì •í•˜ëŠ” ë…¸ë ¥ì´ í•„ìš”í•©ë‹ˆë‹¤.";
            } else if (score >= 40) {
                msg = "ì¶©(æ²–): ê°•ë ¬í•˜ì§€ë§Œ ìœ„íƒœë¡œìš´ ì‚¬ë‘";
                sub = "ëŒë¦¼ì€ ê°•í•˜ë‚˜ ë‹¤íˆ¼ì´ ì¦ìŠµë‹ˆë‹¤. ì¸ë‚´ì‹¬ì´ ì‹œí—˜ë°›ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.";
            } else {
                msg = "í‰(å‡¶): ì—‡ê°ˆë¦° ì¸ì—°ì˜ ëˆ";
                sub = "ì„œë¡œì—ê²Œ ìƒì²˜ê°€ ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì‹ ì¤‘í•œ ì ‘ê·¼ì´ í•„ìš”í•©ë‹ˆë‹¤.";
            }

            document.getElementById('scoreMsg').innerText = msg;
            document.getElementById('scoreSub').innerText = sub;
        }

        function generateAnalysisText(n1, s1, n2, s2, res) {
            const e1 = GAN[s1.stem];
            const e2 = GAN[s2.stem];
            
            let html = `<p><span class="highlight">${n1}</span>ë‹˜ì€ <span class="gold-text">${e1}</span>ì˜ ê¸°ìš´ì„, <span class="highlight">${n2}</span>ë‹˜ì€ <span class="gold-text">${e2}</span>ì˜ ê¸°ìš´ì„ íƒ€ê³ ë‚¬ìŠµë‹ˆë‹¤.</p>`;
            
            html += `<p style="margin-top:15px;">`;
            if(res.relation === 'ìƒ') {
                html += `ë‘ ë¶„ì˜ ì—ë„ˆì§€ëŠ” ì„œë¡œë¥¼ <span class="highlight">ë•ê³  í‚¤ì›Œì£¼ëŠ” ìƒìƒ(ç›¸ç”Ÿ)ì˜ íë¦„</span>ì…ë‹ˆë‹¤. í•œ ì‚¬ëŒì´ ì§€ì¹˜ë©´ ë‹¤ë¥¸ ì‚¬ëŒì´ ìì—°ìŠ¤ëŸ½ê²Œ ê¸°ìš´ì„ ë¶ë‹ì•„ ì£¼ë©°, ëŒ€í™”ê°€ ëŠì´ì§€ ì•Šê³  ë¬¼ íë¥´ë“¯ ì´ì–´ì§‘ë‹ˆë‹¤. ê°€ì¹˜ê´€ì´ ë¹„ìŠ·í•˜ì—¬ í° ê°ˆë“± ì—†ì´ ê°™ì€ ë°©í–¥ì„ ë°”ë¼ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.`;
            } else if(res.relation === 'ë¹„') {
                html += `ë‘ ë¶„ì€ <span class="highlight">ì¹œêµ¬ì²˜ëŸ¼ ë™ë“±í•˜ê³  í¸ì•ˆí•œ ë¹„ê²¬(æ¯”è‚©)ì˜ ê´€ê³„</span>ì…ë‹ˆë‹¤. ì„œë¡œì˜ ìƒê°ì„ êµ³ì´ ë§í•˜ì§€ ì•Šì•„ë„ ì´í•´í•˜ëŠ” ê³µê° ëŠ¥ë ¥ì´ ë›°ì–´ë‚©ë‹ˆë‹¤. ë‹¤ë§Œ, ë„ˆë¬´ í¸ì•ˆí•˜ë‹¤ ë³´ë‹ˆ ì„¤ë ˜ì´ ë¹¨ë¦¬ ì‚¬ë¼ì§ˆ ìˆ˜ ìˆìœ¼ë‹ˆ ì£¼ì˜í•´ì•¼ í•©ë‹ˆë‹¤.`;
            } else {
                html += `ë‘ ë¶„ì€ <span class="warn-text">ì„œë¡œ ë‹¤ë¥¸ ë§¤ë ¥ì— ê°•í•˜ê²Œ ëŒë¦¬ëŠ” ìƒê·¹(ç›¸å‰‹)ì˜ ê´€ê³„</span>ì…ë‹ˆë‹¤. ì²˜ìŒì—ëŠ” ë‚˜ì™€ ì •ë°˜ëŒ€ì¸ ëª¨ìŠµì— ë°˜í•´ ë¶ˆê°™ì´ ì‚¬ë‘í•˜ì§€ë§Œ, ì‹œê°„ì´ ì§€ë‚ ìˆ˜ë¡ ì£¼ë„ê¶Œ ì‹¸ì›€ì´ë‚˜ ì„±ê²© ì°¨ì´ë¡œ ì¸í•œ ê°ˆë“±ì´ ë°œìƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.`;
            }
            html += `</p>`;

            html += `<p style="margin-top:15px; border-top:1px dashed rgba(255,255,255,0.2); padding-top:15px;">`;
            html += `<strong>[ê°ˆë“± í•´ê²° ìŠ¤íƒ€ì¼]</strong><br>${res.zDesc}`;
            html += `</p>`;

            document.getElementById('analysisText').innerHTML = html;
        }

        function generateMasterAdvice(n1, n2, score, relation) {
            let advice = "";
            
            if(score >= 90) {
                advice = `ë‘ ì‚¬ëŒì˜ ì¸ì—°ì€ ì‹¤ë¡œ ê·€í•©ë‹ˆë‹¤. ì‚¬ì£¼í•™ì ìœ¼ë¡œ ë³´ì•˜ì„ ë•Œ, ì„œë¡œì˜ ë¶€ì¡±í•œ ì˜¤í–‰ì„ ì™„ë²½í•˜ê²Œ ì±„ì›Œì£¼ëŠ” í˜•êµ­ì´ë¼ ê²°í˜¼ì„ í•˜ê±°ë‚˜ ì‚¬ì—…ì„ ê°™ì´ í•´ë„ ëŒ€ì„±í•  ìš´ì…ë‹ˆë‹¤. <br><br>í•˜ì§€ë§Œ 'ë‹¹ì—°í•¨'ì´ ê°€ì¥ í° ì ì…ë‹ˆë‹¤. ìƒëŒ€ê°€ ë‚˜ì—ê²Œ ë§ì¶°ì£¼ëŠ” ê²ƒì„ ê¶Œë¦¬ë¡œ ì°©ê°í•˜ì§€ ë§ˆì„¸ìš”. ì´ ì •ë„ì˜ ê¶í•©ì€ ì‚´ë©´ì„œ ë‹¤ì‹œ ë§Œë‚˜ê¸° í˜ë“­ë‹ˆë‹¤. ì§€ê¸ˆ ì˜†ì— ìˆëŠ” ì‚¬ëŒì„ ê·€í•˜ê²Œ ì—¬ê¸°ê³ , ì‘ì€ ê°ì‚¬ë¼ë„ ë§ë¡œ í‘œí˜„í•œë‹¤ë©´ í‰ìƒ í”ë“¤ë¦¼ ì—†ëŠ” í–‰ë³µì„ ëˆ„ë¦´ ê²ƒì…ë‹ˆë‹¤.`;
            } else if(score >= 75) {
                advice = `ì•„ì£¼ ê±´ê°•í•˜ê³  ê¸ì •ì ì¸ ê´€ê³„ì…ë‹ˆë‹¤. íŠ¹ë³„í•œ ì•…ì—°ì˜ ê³ ë¦¬ê°€ ë³´ì´ì§€ ì•Šìœ¼ë©°, ì‹œê°„ì´ ì§€ë‚ ìˆ˜ë¡ ì‹ ë¢°ê°€ ìŒ“ì´ëŠ” êµ¬ì¡°ì…ë‹ˆë‹¤. <br><br>ë‹¤ë§Œ, ê´€ê³„ì˜ 'ì¬ë¯¸' ìš”ì†Œë¥¼ ë†“ì¹˜ì§€ ë§ˆì„¸ìš”. ì•ˆì •ê°ì´ ìì¹« ì§€ë£¨í•¨ìœ¼ë¡œ ë³€ì§ˆë  ìˆ˜ ìˆìŠµë‹ˆë‹¤. í•¨ê»˜ ìƒˆë¡œìš´ ì·¨ë¯¸ë¥¼ ë°°ìš°ê±°ë‚˜ ë‚¯ì„  ê³³ìœ¼ë¡œ ì—¬í–‰ì„ ë– ë‚˜ëŠ” ë“± ì£¼ê¸°ì ìœ¼ë¡œ ì‹ ì„ í•œ ìê·¹ì„ ì£¼ëŠ” ê²ƒì´ ì‚¬ë‘ì„ ì˜¤ë˜ ìœ ì§€í•˜ëŠ” ë¹„ê²°ì…ë‹ˆë‹¤.`;
            } else if(score >= 60) {
                advice = `ì„œë¡œ ì‚¬ë‘í•˜ì§€ë§Œ, ì†Œí†µ ë°©ì‹ì—ì„œ 'í†µì—­'ì´ í•„ìš”í•œ ì‚¬ì´ì…ë‹ˆë‹¤. ë‚˜ëŠ” 'A'ë¼ê³  ë§í–ˆëŠ”ë° ìƒëŒ€ëŠ” 'B'ë¡œ ë“£ëŠ” ê²½ìš°ê°€ ì¢…ì¢… ìˆì„ ê²ƒì…ë‹ˆë‹¤. ì´ëŠ” ëˆ„ê°€ ì˜ëª»í•œ ê²ƒì´ ì•„ë‹ˆë¼ íƒ€ê³ ë‚œ ì‚¬ê³  íšŒë¡œê°€ ë‹¤ë¥´ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤. <br><br>ìƒëŒ€ë¥¼ ë‚´ ë°©ì‹ëŒ€ë¡œ ê³ ì¹˜ë ¤ í•˜ì§€ ë§ˆì„¸ìš”. ê·¸ê²ƒì´ ë¶ˆí™”ì˜ ì‹œì‘ì…ë‹ˆë‹¤. "ë‹¹ì‹  ìƒê°ì€ ê·¸ë ‡êµ¬ë‚˜"ë¼ê³  ì¿¨í•˜ê²Œ ì¸ì •í•˜ëŠ” ìì„¸ê°€ í•„ìš”í•©ë‹ˆë‹¤. ì ë‹¹í•œ ê±°ë¦¬ë‘ê¸°ì™€ ì¡´ì¤‘ì´ ìˆë‹¤ë©´ ì¶©ë¶„íˆ ë©‹ì§„ ì»¤í”Œì´ ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.`;
            } else {
                advice = `ì†”ì§íˆ ë§ì”€ë“œë¦¬ë©´, ìˆœíƒ„í•˜ê¸°ë§Œ í•œ ê¸¸ì€ ì•„ë‹™ë‹ˆë‹¤. ì„œë¡œì˜ ê³ ì§‘ì´ ê°•í•˜ê²Œ ë¶€ë”ªì¹˜ê±°ë‚˜, í•œìª½ì´ ì¼ë°©ì ìœ¼ë¡œ ì°¸ì•„ì•¼ í•˜ëŠ” ìƒí™©ì´ ì˜¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤. <br><br>í•˜ì§€ë§Œ ì‚¬ì£¼ë³´ë‹¤ ê°•í•œ ê²ƒì´ ì‚¬ëŒì˜ ì˜ì§€ì…ë‹ˆë‹¤. ì´ ê´€ê³„ë¥¼ ìœ ì§€í•˜ê³  ì‹¶ë‹¤ë©´ 'ì§€ëŠ” ê²ƒì´ ì´ê¸°ëŠ” ê²ƒ'ì´ë¼ëŠ” ë§ˆìŒê°€ì§ì´ í•„ìˆ˜ì…ë‹ˆë‹¤. ìì¡´ì‹¬ì„ ë‚´ë ¤ë†“ê³  ìƒëŒ€ë°©ì˜ ì…ì¥ì—ì„œ í•œ ë²ˆë§Œ ë” ìƒê°í•œë‹¤ë©´, ë‚˜ìœ ìš´ë„ í”¼í•´ ê°ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì •ë§ë¡œ ì‚¬ë‘í•œë‹¤ë©´ ì¹˜ì—´í•˜ê²Œ ë§ì¶°ê°€ì•¼ í•©ë‹ˆë‹¤.`;
            }

            document.getElementById('masterAdvice').innerHTML = advice;
        }

        // --- ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜ ---
        function getSaju(num) {
            const y = document.getElementById(`year${num}`).value;
            const m = document.getElementById(`month${num}`).value;
            const d = document.getElementById(`day${num}`).value;
            const h = document.getElementById(`time${num}`).value;
            
            if (typeof Solar === 'undefined') return null;
            const solar = Solar.fromYmdHms(parseInt(y), parseInt(m), parseInt(d), parseInt(h), 0, 0);
            const lunar = Lunar.fromSolar(solar);
            const baZi = lunar.getEightChar();

            return {
                stem: baZi.getDay().charAt(0),
                branch: baZi.getDay().charAt(1),
                counts: countElements(baZi)
            };
        }

        function countElements(baZi) {
            const counts = { 'ëª©':0, 'í™”':0, 'í† ':0, 'ê¸ˆ':0, 'ìˆ˜':0 };
            const chars = [baZi.getYear(), baZi.getMonth(), baZi.getDay(), baZi.getTime()].join('');
            for(let c of chars) {
                let elem = GAN[c] || ZHI[c];
                if(elem) counts[elem]++;
            }
            return counts;
        }

        function getRelation(s1, s2) {
            const e1 = GAN[s1]; const e2 = GAN[s2];
            const rule = {
                'ëª©': { 'ìˆ˜':'ìƒ', 'í™”':'ìƒ', 'ëª©':'ë¹„', 'í† ':'ê·¹', 'ê¸ˆ':'ê·¹' },
                'í™”': { 'ëª©':'ìƒ', 'í† ':'ìƒ', 'í™”':'ë¹„', 'ê¸ˆ':'ê·¹', 'ìˆ˜':'ê·¹' },
                'í† ': { 'í™”':'ìƒ', 'ê¸ˆ':'ìƒ', 'í† ':'ë¹„', 'ìˆ˜':'ê·¹', 'ëª©':'ê·¹' },
                'ê¸ˆ': { 'í† ':'ìƒ', 'ìˆ˜':'ìƒ', 'ê¸ˆ':'ë¹„', 'ëª©':'ê·¹', 'í™”':'ê·¹' },
                'ìˆ˜': { 'ê¸ˆ':'ìƒ', 'ëª©':'ìƒ', 'ìˆ˜':'ë¹„', 'í™”':'ê·¹', 'í† ':'ê·¹' }
            };
            if(rule[e1][e2] === 'ìƒ' || rule[e2][e1] === 'ìƒ') return 'ìƒ';
            if(rule[e1][e2] === 'ë¹„') return 'ë¹„';
            return 'ê·¹';
        }

        function checkZhiRelation(b1, b2) {
            const pair = [b1, b2].sort().join('');
            const sixHap = [['å­','ä¸‘'], ['å¯…','äº¥'], ['å¯','æˆŒ'], ['è¾°','é…‰'], ['å·³','ç”³'], ['åˆ','æœª']];
            const chung = [['å­','åˆ'], ['ä¸‘','æœª'], ['å¯…','ç”³'], ['å¯','é…‰'], ['è¾°','æˆŒ'], ['å·³','äº¥']];
            const wonjin = [['å­','æœª'], ['ä¸‘','åˆ'], ['å¯…','é…‰'], ['å¯','ç”³'], ['è¾°','äº¥'], ['å·³','æˆŒ']];

            for(let h of sixHap) if(h.sort().join('') === pair) return { point: 15, type: 'ìœ¡í•©', desc: "ë‘ ë¶„ì€ ì†ë§ˆìŒì´ ì°°ë–¡ê°™ì´ ì˜ ë§ìŠµë‹ˆë‹¤. ì‹¸ì›Œë„ ê¸ˆë°© í™”í•´í•˜ë©°, ì„œë¡œì— ëŒ€í•œ ì• ì°©ì´ ë§¤ìš° ê°•í•´ ì‰½ê²Œ í—¤ì–´ì§€ì§€ ëª»í•©ë‹ˆë‹¤." };
            for(let c of chung) if(c.sort().join('') === pair) return { point: -10, type: 'ì¶©', desc: "ì˜ê²¬ ì°¨ì´ê°€ ìƒê¸°ë©´ ë¶ˆê½ƒì´ íŠ€ëŠ” êµ¬ì¡°ì…ë‹ˆë‹¤. ì„œë¡œì˜ ìì¡´ì‹¬ì„ ê±´ë“œë¦¬ë©´ í° ì‹¸ì›€ì´ ë˜ë‹ˆ, ë…¼ìŸë³´ë‹¤ëŠ” ê°ì •ì„ ë¨¼ì € ì–´ë£¨ë§Œì ¸ì•¼ í•©ë‹ˆë‹¤." };
            for(let w of wonjin) if(w.sort().join('') === pair) return { point: -5, type: 'ì›ì§„', desc: "ì„œë¡œ ì‚¬ë‘í•˜ì§€ë§Œ ê°€ë” ì´ìœ  ì—†ì´ ë°‰ê±°ë‚˜ ì„œìš´í•  ë•Œê°€ ìˆìŠµë‹ˆë‹¤. ì‚¬ì†Œí•œ ì˜¤í•´ê°€ ìŒ“ì´ì§€ ì•Šë„ë¡ ê·¸ë•Œê·¸ë•Œ ëŒ€í™”ë¡œ í‘¸ëŠ” ê²ƒì´ ì¤‘ìš”í•©ë‹ˆë‹¤." };

            return { point: 5, type: 'í‰', desc: "íŠ¹ë³„íˆ ë¶€ë”ªíˆëŠ” ë¶€ë¶„ ì—†ì´ ë¬´ë‚œí•˜ê³  ì•ˆì •ì ì¸ ê´€ê³„ì…ë‹ˆë‹¤. ê²©ì •ì ì¸ ë“œë¼ë§ˆëŠ” ì—†ì–´ë„ í‰ì˜¨í•œ ì¼ìƒì„ í•¨ê»˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤." };
        }

        function animateScore(finalScore) {
            let current = 0;
            const elem = document.getElementById('totalScore');
            const interval = setInterval(() => {
                current += 1;
                elem.innerText = current;
                if(current >= finalScore) clearInterval(interval);
            }, 10);
        }

        let myChart = null;
        function drawChart(n1, c1, n2, c2) {
            const ctx = document.getElementById('elementChart').getContext('2d');
            if(myChart) myChart.destroy();
            myChart = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: ['ëª©(æœ¨)', 'í™”(ç«)', 'í† (åœŸ)', 'ê¸ˆ(é‡‘)', 'ìˆ˜(æ°´)'],
                    datasets: [
                        { label: n1, data: Object.values(c1), backgroundColor: 'rgba(0, 230, 118, 0.6)', borderColor: '#00e676', borderWidth: 1 },
                        { label: n2, data: Object.values(c2), backgroundColor: 'rgba(255, 215, 0, 0.6)', borderColor: '#ffd700', borderWidth: 1 }
                    ]
                },
                options: {
                    responsive: true,
                    scales: {
                        y: { beginAtZero: true, grid: { color: 'rgba(255,255,255,0.1)' }, ticks: { color: '#b2dfdb' } },
                        x: { grid: { display: false }, ticks: { color: '#b2dfdb' } }
                    },
                    plugins: { legend: { labels: { color: '#fff' } } }
                }
            });
        }
    </script>
</body>
</html>