<!DOCTYPE html>
<html lang="ko">
<head>
       <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="google-adsense-account" content="ca-pub-5522499110435321">
<link rel="icon" href="/favicon.png" type="image/png">
    <title>ìš´ì  - ë‚´ ì‚¬ì£¼ì˜ ì¸ê¸°ìš´ ë¶„ì„</title>
    <meta name="description" content="ìš´ì  - ë‚´ ì‚¬ì£¼ì˜ ì¸ê¸°ìš´ ë¶„ì„">
<meta name="keywords" content="ìš´ì , ì‚¬ì£¼, ë¬´ë£Œì‚¬ì£¼, ì˜¤ëŠ˜ì˜ìš´ì„¸, ìš´ì ìš´ì„¸, ë¬´ë£Œê¶í•©, ì‹ ë…„ìš´ì„¸, ë³‘ì˜¤ë…„ìš´ì„¸, ì •í†µë§Œì„¸ë ¥, ìš´ì ë§Œì„¸ë ¥, ë¬´ë£Œë§Œì„¸ë ¥, ë§Œì„¸ë ¥í™•ì¸, ë¬´ë£Œì‚¬ì£¼í’€ì´, ì •í†µì‚¬ì£¼, ìš´ì ì •í†µì‚¬ì£¼, ë„í™”ì‚´ì§„ë‹¨, ìš´ì ë„í™”ì‚´ì§„ë‹¨, ìš´ì í‰ìƒìš´ì„¸, ìš´ì ë³„ìë¦¬ìš´ì„¸, ìš´ì ì‚¬ì£¼, ìš´ì ì‚¬ì£¼í’€ì´">
    <meta property="og:type" content="website"> 
    <meta property="og:title" content="ìš´ì  - ë‚´ ì‚¬ì£¼ì˜ ì¸ê¸°ìš´ ë¶„ì„">
    <meta property="og:description" content="ìš´ì  - ë‚´ ì‚¬ì£¼ì˜ ì¸ê¸°ìš´ ë¶„ì„">
    <meta property="og:url" content="https://unjum.co.kr/saju-popularity">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/lunar-javascript/1.6.12/lunar.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <style>
        @font-face {
            font-family: 'ThinRounded';
            src: url('https://cdn.jsdelivr.net/gh/projectnoonnu/2511-1@1.0/ThinDungGeunMo.woff2') format('woff2');
            font-weight: normal; font-style: normal; font-display: swap;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }

        :root {
            /* ì¸ê¸°ìš´ í˜ì´ì§€ ì „ìš© í…Œë§ˆ (Light Mint & Violet) */
            --bg-color: #f0fdfa;
            --header-bg: linear-gradient(90deg, #20c997, #7048e8);
            --sidebar-bg: #ffffff;
            --accent-color: #20c997;
            --secondary-color: #7048e8;
            --text-color: #333333;
            --border-color: #c3fae8;
            --overlay-bg: rgba(0, 0, 0, 0.5);
        }

        /* ìŠ¤í¬ë¡¤ë°” ë””ìì¸ */
        ::-webkit-scrollbar { width: 10px; height: 10px; }
        ::-webkit-scrollbar-track { background: #e0fcf6; }
        ::-webkit-scrollbar-thumb { background: var(--accent-color); border-radius: 10px; border: 2px solid #e0fcf6; }
        ::-webkit-scrollbar-thumb:hover { background: #12a176; }

        body {
            font-family: 'ThinRounded', sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            overflow-x: hidden;
            line-height: 1.6;
        }

        /* --- [ê³µí†µ ë ˆì´ì•„ì›ƒ] í—¤ë” --- */
        header {
            position: fixed; top: 0; left: 0; width: 100%; height: 70px;
            background: var(--header-bg); /* ê·¸ë¼ë°ì´ì…˜ ì ìš© */
            display: flex; justify-content: space-between; align-items: center;
            padding: 0 40px; z-index: 1000;
            box-shadow: 0 4px 15px rgba(32, 201, 151, 0.3);
        }

        .logo img { height: 40px; width: auto; filter: brightness(200); } /* ë¡œê³  í°ìƒ‰ ì²˜ë¦¬ */

        /* [PCìš©] ìƒë‹¨ ë©”ë‰´ */
        .top-menu { display: flex; gap: 30px; height: 100%; align-items: center; }
        .menu-item { position: relative; height: 100%; display: flex; align-items: center; cursor: pointer; }
        .menu-title { color: #fff; text-decoration: none; font-size: 1.1rem; transition: 0.3s; white-space: nowrap; font-weight: bold; }
        .menu-item:hover .menu-title { color: #e0fcf6; transform: scale(1.05); }

        /* [PCìš©] ë“œë¡­ë‹¤ìš´ */
        .dropdown-content {
            display: none; position: absolute; top: 70px; left: 50%; transform: translateX(-50%);
            background-color: #fff; min-width: 160px; box-shadow: 0 8px 16px rgba(0,0,0,0.1);
            border: 2px solid var(--accent-color); border-radius: 0 0 15px 15px; z-index: 1001; flex-direction: column; padding: 10px 0;
        }
        .dropdown-content a { color: var(--accent-color); padding: 12px 16px; text-decoration: none; display: block; font-size: 0.95rem; text-align: center; font-weight: bold; }
        .dropdown-content a:hover { background-color: #f0fcf9; color: var(--secondary-color); }
        @media (min-width: 769px) { .menu-item:hover .dropdown-content { display: flex; } }

        /* [ëª¨ë°”ì¼ìš©] í–„ë²„ê±° ë²„íŠ¼ */
        .hamburger-btn {
            display: none; flex-direction: column; justify-content: space-between;
            width: 30px; height: 21px; cursor: pointer; z-index: 1100;
        }
        .hamburger-btn span {
            display: block; width: 100%; height: 3px;
            background-color: #fff; /* í—¤ë” ë°°ê²½ì´ ì§„í•˜ë¯€ë¡œ í°ìƒ‰ */
            border-radius: 3px; transition: all 0.3s ease;
        }
        .hamburger-btn.active span:nth-child(1) { transform: translateY(9px) rotate(45deg); }
        .hamburger-btn.active span:nth-child(2) { opacity: 0; }
        .hamburger-btn.active span:nth-child(3) { transform: translateY(-9px) rotate(-45deg); }

        /* --- [ê³µí†µ ë ˆì´ì•„ì›ƒ] ì‚¬ì´ë“œë°” (ë¼ì´íŠ¸ í…Œë§ˆ ì ìš©) --- */
        .sidebar {
            position: fixed; top: 70px; left: 0; width: 260px; height: calc(100vh - 70px);
            background-color: var(--sidebar-bg); padding: 30px 20px; overflow-y: auto; 
            border-right: 1px solid var(--border-color);
            z-index: 1050; transition: left 0.3s ease-in-out;
        }
        .category-title { font-size: 1.1rem; color: var(--accent-color); margin-bottom: 15px; display: block; font-weight: bold; border-bottom: 2px dashed var(--border-color); padding-bottom: 5px; }
        .sub-menu { list-style: none; padding-left: 10px; margin-bottom: 30px; }
        .sub-menu li { margin: 12px 0; }
        .sub-menu a { color: #888; text-decoration: none; font-size: 0.95rem; transition: 0.2s; }
        .sub-menu a:hover { padding-left: 5px; color: var(--secondary-color); font-weight: bold; }

        /* [ëª¨ë°”ì¼ìš©] ì˜¤ë²„ë ˆì´ */
        .overlay {
            display: none; position: fixed; top: 70px; left: 0;
            width: 100%; height: calc(100vh - 70px);
            background-color: var(--overlay-bg); z-index: 90; opacity: 0; transition: opacity 0.3s ease;
        }
        .overlay.active { display: block; opacity: 1; }

        /* --- ë©”ì¸ ì˜ì—­ --- */
        main {
            margin-top: 70px; margin-left: 260px; padding: 40px 20px;
            display: flex; flex-direction: column; align-items: center; min-height: calc(100vh - 70px);
            transition: margin-left 0.3s ease;
        }

        /* --- ê¸°ì¡´ ì½˜í…ì¸  ìŠ¤íƒ€ì¼ (í…Œë§ˆì— ë§ê²Œ ì¡°ì •) --- */
        .input-card {
            background: white; width: 100%; max-width: 500px;
            padding: 40px; border-radius: 30px;
            box-shadow: 0 10px 30px rgba(32, 201, 151, 0.15);
            text-align: center; border: 4px solid #e6fcf5;
            margin-bottom: 30px;
        }
        .form-group { margin-bottom: 20px; text-align: left; }
        .form-label { display: block; color: var(--accent-color); margin-bottom: 8px; font-size: 1.1rem; font-weight: bold; }
        
        input[type="text"], select {
            width: 100%; padding: 15px; border-radius: 15px;
            border: 2px solid var(--border-color); background: #f8fffd;
            font-family: 'ThinRounded'; font-size: 1rem; color: #555; outline: none;
            appearance: none;
        }
        input:focus, select:focus { border-color: var(--accent-color); background-color: #fff; }

        .radio-group { display: flex; gap: 10px; margin-bottom: 10px; }
        .radio-label {
            flex: 1; text-align: center; padding: 12px; border-radius: 12px;
            border: 2px solid var(--border-color); color: #888; cursor: pointer; transition: 0.3s;
        }
        input[type="radio"] { display: none; }
        input[type="radio"]:checked + .radio-label {
            background-color: var(--accent-color); color: white; border-color: var(--accent-color); font-weight: bold;
        }
        .date-inputs { display: flex; gap: 10px; }
        .date-inputs select { flex: 1; }

        .submit-btn {
            width: 100%; padding: 18px; margin-top: 20px;
            background: linear-gradient(45deg, var(--accent-color), #38d9a9);
            color: white; border: none; border-radius: 50px;
            font-size: 1.2rem; cursor: pointer; font-family: 'ThinRounded';
            transition: 0.3s; box-shadow: 0 5px 15px rgba(32, 201, 151, 0.4);
        }
        .submit-btn:hover { transform: translateY(-3px); box-shadow: 0 8px 20px rgba(32, 201, 151, 0.6); }

        /* ê²°ê³¼ ì˜ì—­ */
        #result-section { display: none; width: 100%; max-width: 600px; }
        .result-container { display: grid; grid-template-columns: 1fr; gap: 20px; animation: slideUp 0.6s ease; }
        @keyframes slideUp { from { opacity: 0; transform: translateY(30px); } to { opacity: 1; transform: translateY(0); } }

        .profile-card {
            background: white; border-radius: 25px; padding: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.05); border: 1px solid #e0fcf6; text-align: center;
        }
        .profile-img {
            width: 100px; height: 100px; border-radius: 50%;
            background: linear-gradient(135deg, #a9e34b, var(--accent-color));
            margin: 0 auto 15px; display: flex; align-items: center; justify-content: center;
            font-size: 3rem; color: white; border: 4px solid #fff;
            box-shadow: 0 5px 15px rgba(32, 201, 151, 0.3);
        }
        .profile-name { font-size: 1.5rem; font-weight: bold; margin-bottom: 5px; color: #333; }
        .profile-tag { color: var(--secondary-color); font-size: 0.95rem; margin-bottom: 20px; font-weight: bold; }
        
        .stat-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px; background: #f8f9fa; border-radius: 15px; padding: 15px; }
        .stat-item { display: flex; flex-direction: column; }
        .stat-num { font-size: 1.3rem; font-weight: bold; color: var(--accent-color); }
        .stat-label { font-size: 0.8rem; color: #888; }

        .chart-card {
            background: white; border-radius: 25px; padding: 25px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.05); border: 1px solid #e0fcf6;
        }
        .card-title { font-size: 1.2rem; font-weight: bold; margin-bottom: 20px; color: var(--secondary-color); border-left: 4px solid var(--accent-color); padding-left: 10px; }

        /* ì‹ ì‚´ ì„¤ëª… ì¹´ë“œ */
        .sinsal-card {
            background: white; border-radius: 20px; padding: 20px; margin-bottom: 15px;
            border-left: 5px solid #ccc; box-shadow: 0 5px 15px rgba(0,0,0,0.03); transition: transform 0.2s;
        }
        .sinsal-card:hover { transform: translateY(-3px); }
        .sinsal-card.dohwa { border-left-color: #ff6b6b; background: #fff5f5; }
        .sinsal-card.hongyeom { border-left-color: #cc5de8; background: #f3f0ff; }
        .sinsal-card.hwagae { border-left-color: #fcc419; background: #fff9db; }
        
        .sinsal-name { font-weight: bold; font-size: 1.1rem; margin-bottom: 5px; display: flex; align-items: center; gap: 8px; }
        .sinsal-desc { font-size: 0.95rem; color: #555; line-height: 1.5; }

        .retry-btn {
            display: block; width: 100%; text-align: center; padding: 15px;
            background: var(--secondary-color); color: white; text-decoration: none; border-radius: 50px;
            font-size: 1rem; transition: 0.3s; margin-top: 30px;
        }
        .retry-btn:hover { background: #5f3dc4; box-shadow: 0 5px 15px rgba(112, 72, 232, 0.4); }

        /* --- [ê³µí†µ ë ˆì´ì•„ì›ƒ] ë°˜ì‘í˜• --- */
        @media (max-width: 768px) {
            header { padding: 0 20px; height: 60px; }
            .logo img { height: 28px; }
            
            /* ë©”ë‰´ ìˆ¨ê¹€ / í–„ë²„ê±° ë³´ì„ */
            .top-menu { display: none; }
            .hamburger-btn { display: flex; }

            /* ì‚¬ì´ë“œë°” ì œì–´ */
            .sidebar { left: -270px; top: 60px; height: calc(100vh - 60px); display: block; }
            .sidebar.open { left: 0; }
            .overlay { top: 60px; height: calc(100vh - 60px); }

            /* ë©”ì¸ ì œì–´ */
            main { margin-left: 0; margin-top: 60px; padding: 20px; }

            .date-inputs { flex-direction: column; }
        }
    </style>
</head>
<body>

    <header>
        <a href="index.html" class="logo"><img src="img_logo1.png" alt="logo"></a>
        
        <nav class="top-menu">
            <div class="menu-item">
                <span class="menu-title">ìš´ì„¸</span>
                <div class="dropdown-content">
                    <a href="today_fortune.html">ì˜¤ëŠ˜ì˜ ìš´ì„¸</a>
                    <a href="new_year_fortune.html">ì‹ ë…„ ìš´ì„¸</a>
                    <a href="lifetime_fortune.html">í‰ìƒ ìš´ì„¸</a>
                </div>
            </div>
            <div class="menu-item">
                <span class="menu-title">ì‚¬ì£¼</span>
                <div class="dropdown-content">
                    <a href="manse_calendar.html">ì •í†µ ë§Œì„¸ë ¥</a>
                    <a href="traditional_saju.html">ì •í†µ ì‚¬ì£¼</a>
                    <a href="my_saju.html">ë‚´ ì‚¬ì£¼ í’€ì´</a>
                                <a href="positive-saju.html">ì¢‹ì€ ë§ë§Œ í•˜ëŠ” ì‚¬ì£¼</a>
                    <a href="negative-saju.html">ë‚˜ìœ ë§ë§Œ í•˜ëŠ” ì‚¬ì£¼</a>
                </div>
            </div>
            <div class="menu-item">
                <span class="menu-title">ì—°ì• </span>
                <div class="dropdown-content">
                    <a href="love-fortune.html">í‰ìƒ ì—°ì• ìš´</a>
                    <a href="saju-compatibility.html">ì‚¬ì£¼ ê¶í•©</a>
                    <a href="reunion-saju.html">ì¬íšŒ ì‚¬ì£¼</a>
                </div>
            </div>
            <div class="menu-item">
                <span class="menu-title">ë„íŒŒë¯¼</span>
                <div class="dropdown-content">
                    <a href="charm-score.html">ë‚´ ì‚¬ì£¼ ë§¤ë ¥</a>
                    <a href="saju-popularity.html" style="color:var(--secondary-color);">ì‚¬ì£¼ ì¸ê¸°ìš´</a>
                    <a href="dohwasal-check.html">ë„í™”ì‚´ ì§„ë‹¨ê¸°</a>
                    <a href="saju-spotlight.html">ì£¼ëª©ë°›ëŠ” ì‚¬ì£¼</a>
                </div>
            </div>
            <div class="menu-item">
                <span class="menu-title">ë³„ìë¦¬</span>
                <div class="dropdown-content">
                    <a href="weekly-zodiac.html">ì´ë²ˆì£¼ ë³„ìë¦¬</a>
                    <a href="monthly-zodiac.html">ì´ë²ˆë‹¬ ë³„ìë¦¬</a>
                </div>
            </div>
        </nav>

        <div class="hamburger-btn" onclick="toggleSidebar()">
            <span></span>
            <span></span>
            <span></span>
        </div>
    </header>

    <div class="overlay" onclick="toggleSidebar()"></div>

    <aside class="sidebar" id="sidebar">
        <div class="category-title">ìš´ì„¸</div>
        <ul class="sub-menu">
            <li><a href="today_fortune.html">ì˜¤ëŠ˜ì˜ ìš´ì„¸</a></li>
            <li><a href="new_year_fortune.html">ì‹ ë…„ ìš´ì„¸</a></li>
            <li><a href="lifetime_fortune.html">í‰ìƒ ìš´ì„¸</a></li>
        </ul>
        <div class="category-title">ì‚¬ì£¼</div>
        <ul class="sub-menu">
            <li><a href="manse_calendar.html">ì •í†µ ë§Œì„¸ë ¥</a></li>
            <li><a href="traditional_saju.html">ì •í†µ ì‚¬ì£¼</a></li>
            <li><a href="my_saju.html">ë‚´ ì‚¬ì£¼ í’€ì´</a></li>
                       <li><a href="positive-saju.html">ì¢‹ì€ ë§ë§Œ í•˜ëŠ” ì‚¬ì£¼</a></li>
        <li><a href="negative-saju.html">ë‚˜ìœ ë§ë§Œ í•˜ëŠ” ì‚¬ì£¼</a></li>
        </ul>
        <div class="category-title">ì—°ì• </div>
        <ul class="sub-menu">
            <li><a href="love-fortune.html">í‰ìƒ ì—°ì• ìš´</a></li>
            <li><a href="saju-compatibility.html">ì‚¬ì£¼ ê¶í•©</a></li>
            <li><a href="reunion-saju.html">ì¬íšŒ ì‚¬ì£¼</a></li>
        </ul>
        <div class="category-title">ë„íŒŒë¯¼</div>
        <ul class="sub-menu">
            <li><a href="charm-score.html">ë‚´ ì‚¬ì£¼ ë§¤ë ¥</a></li>
            <li><a href="saju-popularity.html" style="color:var(--secondary-color); font-weight:bold;">ì‚¬ì£¼ ì¸ê¸°ìš´</a></li>
            <li><a href="dohwasal-check.html">ë„í™”ì‚´ ì§„ë‹¨ê¸°</a></li>
            <li><a href="saju-spotlight.html">ì£¼ëª©ë°›ëŠ” ì‚¬ì£¼</a></li>
        </ul>
        <div class="category-title">ë³„ìë¦¬</div>
        <ul class="sub-menu">
            <li><a href="weekly-zodiac.html">ì´ë²ˆì£¼ ë³„ìë¦¬ ìš´ì„¸</a></li>
            <li><a href="monthly-zodiac.html">ì´ë²ˆë‹¬ ë³„ìë¦¬ ìš´ì„¸</a></li>
        </ul>
    </aside>

    <main>
        <div class="input-card" id="input-section">
            <h2 style="color: var(--accent-color); margin-bottom: 10px;">âœ¨ ì‚¬ì£¼ ì¸ê¸°ìš´ ë¶„ì„</h2>
            <p style="font-size:0.9rem; color:#888; margin-bottom:30px;">ë‹¹ì‹ ì˜ ì‚¬ì£¼ì— ìˆ¨ê²¨ì§„ 'ì¸ê¸° ì‚´(ç¥æ®º)'ì„ ì°¾ì•„ë“œë¦½ë‹ˆë‹¤.</p>
            
            <div class="form-group">
                <label class="form-label">ì´ë¦„</label>
                <input type="text" id="username" placeholder="ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”">
            </div>

            <div class="form-group">
                <label class="form-label">ì„±ë³„</label>
                <div class="radio-group">
                    <input type="radio" name="gender" id="female" value="female" checked><label class="radio-label" for="female">ì—¬ì„±</label>
                    <input type="radio" name="gender" id="male" value="male"><label class="radio-label" for="male">ë‚¨ì„±</label>
                </div>
            </div>

            <div class="form-group">
                <label class="form-label">ìƒë…„ì›”ì¼ì‹œ</label>
                <div class="radio-group" style="margin-bottom:15px;">
                    <input type="radio" name="calType" id="solar" value="solar" checked><label class="radio-label" for="solar">ì–‘ë ¥</label>
                    <input type="radio" name="calType" id="lunar" value="lunar"><label class="radio-label" for="lunar">ìŒë ¥</label>
                </div>

                <div class="date-inputs">
                    <select id="birth-year">
                        <option value="" disabled selected>ë…„ë„</option>
                        <script>for(let i=2025; i>=1940; i--) document.write(`<option value="${i}">${i}ë…„</option>`);</script>
                    </select>
                    <select id="birth-month">
                        <option value="" disabled selected>ì›”</option>
                        <script>for(let i=1;i<=12;i++) document.write(`<option value="${i}">${i}ì›”</option>`);</script>
                    </select>
                    <select id="birth-day">
                        <option value="" disabled selected>ì¼</option>
                        <script>for(let i=1;i<=31;i++) document.write(`<option value="${i}">${i}ì¼</option>`);</script>
                    </select>
                </div>
                
                <div style="margin-top:10px;">
                    <select id="birth-time-ganji">
                        <option value="-1" disabled selected>íƒœì–´ë‚œ ì‹œê°„ ì„ íƒ</option>
                        <option value="99">ì‹œê°„ ëª¨ë¦„</option>
                        <option value="0">ìì‹œ (23:30 ~ 01:29)</option>
                        <option value="1">ì¶•ì‹œ (01:30 ~ 03:29)</option>
                        <option value="2">ì¸ì‹œ (03:30 ~ 05:29)</option>
                        <option value="3">ë¬˜ì‹œ (05:30 ~ 07:29)</option>
                        <option value="4">ì§„ì‹œ (07:30 ~ 09:29)</option>
                        <option value="5">ì‚¬ì‹œ (09:30 ~ 11:29)</option>
                        <option value="6">ì˜¤ì‹œ (11:30 ~ 13:29)</option>
                        <option value="7">ë¯¸ì‹œ (13:30 ~ 15:29)</option>
                        <option value="8">ì‹ ì‹œ (15:30 ~ 17:29)</option>
                        <option value="9">ìœ ì‹œ (17:30 ~ 19:29)</option>
                        <option value="10">ìˆ ì‹œ (19:30 ~ 21:29)</option>
                        <option value="11">í•´ì‹œ (21:30 ~ 23:29)</option>
                    </select>
                </div>
            </div>

            <button class="submit-btn" onclick="analyzePopularity()">ì¸ê¸°ìš´ í™•ì¸í•˜ê¸° ğŸš€</button>
        </div>

        <div id="result-section">
            <div class="result-container">
                
                <div class="profile-card">
                    <div class="profile-img" id="profile-initial">?</div>
                    <div class="profile-name" id="res-name">í™ê¸¸ë™</div>
                    <div class="profile-tag" id="res-slogan">"íƒ€ê³ ë‚œ ì—°ì˜ˆì¸ ê¸°ì§ˆ"</div>
                    
                    <div class="stat-grid">
                        <div class="stat-item">
                            <span class="stat-num" id="dohwa-score">0</span>
                            <span class="stat-label">ë„í™”ë ¥</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-num" id="hongyeom-score">0</span>
                            <span class="stat-label">í™ì—¼ë ¥</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-num" id="hwagae-score">0</span>
                            <span class="stat-label">í™”ê°œë ¥</span>
                        </div>
                    </div>
                </div>

                <div class="chart-card">
                    <div class="card-title">ğŸ“Š ë‚˜ì˜ ì¸ê¸° ì„±í–¥ ê·¸ë˜í”„</div>
                    <div style="position: relative; height: 250px; width: 100%;">
                        <canvas id="popularityChart"></canvas>
                    </div>
                </div>

                <div id="sinsal-list">
                    <div class="card-title">ğŸ”® ë³´ìœ í•œ ì¸ê¸°ì‚´ ìƒì„¸</div>
                    </div>

                <a href="#" onclick="location.reload()" class="retry-btn">ğŸ”„ ë‹¤ì‹œ ë¶„ì„í•˜ê¸°</a>
            </div>
        </div>

    </main>

    <script>
        // [ì¶”ê°€] í–„ë²„ê±° í† ê¸€ í•¨ìˆ˜
        function toggleSidebar() {
            const sidebar = document.getElementById('sidebar');
            const overlay = document.querySelector('.overlay');
            const hamburger = document.querySelector('.hamburger-btn');

            sidebar.classList.toggle('open');
            overlay.classList.toggle('active');
            hamburger.classList.toggle('active');
        }

        // --- ë°ì´í„° ---
        const GAN = {'ç”²':'ê°‘', 'ä¹™':'ì„', 'ä¸™':'ë³‘', 'ä¸':'ì •', 'æˆŠ':'ë¬´', 'å·±':'ê¸°', 'åºš':'ê²½', 'è¾›':'ì‹ ', 'å£¬':'ì„', 'ç™¸':'ê³„'};
        const JI = {'å­':'ì', 'ä¸‘':'ì¶•', 'å¯…':'ì¸', 'å¯':'ë¬˜', 'è¾°':'ì§„', 'å·³':'ì‚¬', 'åˆ':'ì˜¤', 'æœª':'ë¯¸', 'ç”³':'ì‹ ', 'é…‰':'ìœ ', 'æˆŒ':'ìˆ ', 'äº¥':'í•´'};

        // --- ë¶„ì„ ë¡œì§ ---
        function analyzePopularity() {
            const name = document.getElementById('username').value;
            const year = parseInt(document.getElementById('birth-year').value);
            const month = parseInt(document.getElementById('birth-month').value);
            const day = parseInt(document.getElementById('birth-day').value);
            const timeCode = document.getElementById('birth-time-ganji').value;
            const calType = document.querySelector('input[name="calType"]:checked').value;

            if (!name || isNaN(year) || isNaN(month) || isNaN(day) || timeCode === "-1") {
                alert("ì •ë³´ë¥¼ ëª¨ë‘ ì…ë ¥í•´ì£¼ì„¸ìš”!");
                return;
            }

            // 1. ì‹œê°„ ë³€í™˜
            let calcHour = 12; 
            if(timeCode !== "99" && timeCode !== "-1") {
                const map = { "0":0, "1":2, "2":4, "3":6, "4":8, "5":10, "6":12, "7":14, "8":16, "9":18, "10":20, "11":22 };
                calcHour = map[timeCode];
            }

            // 2. ë§Œì„¸ë ¥ ì¶”ì¶œ
            let lunar, baZi;
            if (calType === 'lunar') {
                lunar = Lunar.fromYmdHms(year, month, day, calcHour, 0, 0);
                baZi = lunar.getEightChar();
            } else {
                let solar = Solar.fromYmdHms(year, month, day, calcHour, 0, 0);
                lunar = solar.getLunar();
                baZi = lunar.getEightChar();
            }

            const yZhi = baZi.getYearZhi(); // ë…„ì§€
            const mZhi = baZi.getMonthZhi(); // ì›”ì§€
            const dGan = baZi.getDayGan();   // ì¼ê°„
            const dZhi = baZi.getDayZhi();   // ì¼ì§€
            const tZhi = (timeCode !== "99") ? baZi.getTimeZhi() : null; // ì‹œì§€

            const zhis = [yZhi, mZhi, dZhi];
            if(tZhi) zhis.push(tZhi);

            // --- 3. ì‹ ì‚´ ê³„ì‚° (ì§„ë„í™”, í™ì—¼, í™”ê°œ) ---
            
            // [A] ë„í™”ì‚´ (Nyeon-sal): ë…„ì§€/ì¼ì§€ ì‚¼í•©ì˜ ë‹¤ìŒ ê¸€ì (ì™•ì§€)
            function getRealDohwaChar(baseJi) {
                if (['ç”³','å­','è¾°'].includes(baseJi)) return 'é…‰';
                if (['å¯…','åˆ','æˆŒ'].includes(baseJi)) return 'å¯';
                if (['å·³','é…‰','ä¸‘'].includes(baseJi)) return 'åˆ';
                if (['äº¥','å¯','æœª'].includes(baseJi)) return 'å­';
                return null;
            }
            
            let dohwaCards = [];
            const targetDohwaYear = getRealDohwaChar(yZhi); // ë…„ì§€ ê¸°ì¤€ ë„í™”
            const targetDohwaDay = getRealDohwaChar(dZhi);  // ì¼ì§€ ê¸°ì¤€ ë„í™”
            
            let dohwaScore = 0;

            // ê°€ë„í™” (ìì˜¤ë¬˜ìœ  ìì²´) ì²´í¬
            let tempDohwa = 0;
            zhis.forEach(z => { if(['å­','åˆ','å¯','é…‰'].includes(z)) tempDohwa++; });
            dohwaScore += (tempDohwa * 20); // ê¸°ë³¸ ì ìˆ˜

            // ì§„ë„í™” ì²´í¬ (ê°€ì¤‘ì¹˜ ë†’ìŒ)
            zhis.forEach(z => {
                if(z === targetDohwaYear || z === targetDohwaDay) {
                    dohwaScore += 30; // ì§„ë„í™” ë³´ë„ˆìŠ¤
                    if(!dohwaCards.includes('ì§„ë„í™”')) dohwaCards.push('ì§„ë„í™”');
                }
            });
            if(dohwaCards.length === 0 && tempDohwa > 0) dohwaCards.push('ê°€ë„í™” (ìì˜¤ë¬˜ìœ )');


            // [B] í™ì—¼ì‚´ (ì¼ì£¼ ê¸°ì¤€)
            const hongyeomList = ['ç”²åˆ', 'ä¸™å¯…', 'ä¸æœª', 'æˆŠè¾°', 'åºšæˆŒ', 'è¾›é…‰', 'å£¬å­'];
            const dayPillar = dGan + dZhi;
            let hongyeomScore = 0;
            let isHongyeom = false;
            
            if(hongyeomList.includes(dayPillar)) {
                hongyeomScore = 90;
                isHongyeom = true;
            } else {
                hongyeomScore = 10; // ê¸°ë³¸ ì ìˆ˜
            }

            // [C] í™”ê°œì‚´ (ì‚¼í•©ì˜ ê³ ì§€: ì§„ìˆ ì¶•ë¯¸)
            function getHwagaeChar(baseJi) {
                if (['ç”³','å­','è¾°'].includes(baseJi)) return 'è¾°';
                if (['å¯…','åˆ','æˆŒ'].includes(baseJi)) return 'æˆŒ';
                if (['å·³','é…‰','ä¸‘'].includes(baseJi)) return 'ä¸‘';
                if (['äº¥','å¯','æœª'].includes(baseJi)) return 'æœª';
                return null;
            }
            let hwagaeScore = 0;
            let hwagaeFound = false;
            const targetHwagaeYear = getHwagaeChar(yZhi);
            
            // ì¼ë°˜ í™”ê°œ (ì§„ìˆ ì¶•ë¯¸)
            let tempHwagae = 0;
            zhis.forEach(z => { if(['è¾°','æˆŒ','ä¸‘','æœª'].includes(z)) tempHwagae++; });
            hwagaeScore += (tempHwagae * 15);

            // ì§„í™”ê°œ
            zhis.forEach(z => {
                if(z === targetHwagaeYear) {
                    hwagaeScore += 25;
                    hwagaeFound = true;
                }
            });

            // ì ìˆ˜ ë³´ì • (ìµœëŒ€ 100)
            dohwaScore = Math.min(dohwaScore, 99);
            hongyeomScore = Math.min(hongyeomScore, 99);
            hwagaeScore = Math.min(hwagaeScore, 99);


            // --- 4. í™”ë©´ í‘œì‹œ ---
            document.getElementById('input-section').style.display = 'none';
            document.getElementById('result-section').style.display = 'block';

            // í”„ë¡œí•„
            document.getElementById('res-name').innerText = name;
            document.getElementById('profile-initial').innerText = name.charAt(0);
            
            // ìŠ¬ë¡œê±´ ì„ ì •
            let maxScore = Math.max(dohwaScore, hongyeomScore, hwagaeScore);
            let slogan = "";
            if(maxScore === dohwaScore) slogan = "\"ì‹œì„ ì„ ì‚¬ë¡œì¡ëŠ” ì•„ì´ëŒ ì¬ì§ˆ\"";
            else if(maxScore === hongyeomScore) slogan = "\"ì¹˜ëª…ì ì¸ ë§¤ë ¥ì˜ ì†Œìœ ì\"";
            else slogan = "\"ê³ ë…í•˜ì§€ë§Œ ë¹›ë‚˜ëŠ” ì˜ˆìˆ ê°€\"";
            document.getElementById('res-slogan').innerText = slogan;

            document.getElementById('dohwa-score').innerText = dohwaScore;
            document.getElementById('hongyeom-score').innerText = hongyeomScore;
            document.getElementById('hwagae-score').innerText = hwagaeScore;

            // ì°¨íŠ¸ ìƒì„±
            renderChart(dohwaScore, hongyeomScore, hwagaeScore);

            // ë¦¬ìŠ¤íŠ¸ ìƒì„±
            const listDiv = document.getElementById('sinsal-list');
            listDiv.innerHTML = '<div class="card-title">ğŸ”® ë³´ìœ í•œ ì¸ê¸°ì‚´ ìƒì„¸</div>'; // ì´ˆê¸°í™”

            let hasContent = false;

            // ë„í™” ì¹´ë“œ
            if(dohwaScore > 30) {
                hasContent = true;
                listDiv.innerHTML += `
                    <div class="sinsal-card dohwa">
                        <div class="sinsal-name">ğŸŒ¸ ë„í™”ì‚´ (Peach Blossom) </div>
                        <div class="sinsal-desc">
                            ëŒ€ì¤‘ì ì¸ ì¸ê¸°ë¥¼ í•œëª¸ì— ë°›ëŠ” ì‚´ì…ë‹ˆë‹¤. ê°€ë§Œíˆ ìˆì–´ë„ ì‚¬ëŒë“¤ì˜ ì‹œì„ ì„ ëŒë©°, ì—°ì˜ˆì¸ì´ë‚˜ ì¸í”Œë£¨ì–¸ì„œì—ê²Œì„œ ë§ì´ ë°œê²¬ë©ë‹ˆë‹¤. 
                            ë¼ë¥¼ ë°œì‚°í•  ìˆ˜ ìˆëŠ” ë¬´ëŒ€ë‚˜ ê³µê°„ì´ ìˆìœ¼ë©´ ì¸ìƒì´ ê½ƒí•ë‹ˆë‹¤.
                        </div>
                    </div>
                `;
            }

            // í™ì—¼ ì¹´ë“œ
            if(hongyeomScore > 30) {
                hasContent = true;
                listDiv.innerHTML += `
                    <div class="sinsal-card hongyeom">
                        <div class="sinsal-name">ğŸ’‹ í™ì—¼ì‚´ (Red Beauty) </div>
                        <div class="sinsal-desc">
                            ë„í™”ì‚´ë³´ë‹¤ ë” ê°œì¸ì ì´ê³  ì¹˜ëª…ì ì¸ ë§¤ë ¥ì…ë‹ˆë‹¤. 
                            ë¶ˆíŠ¹ì • ë‹¤ìˆ˜ë³´ë‹¤ëŠ” íŠ¹ì • ìƒëŒ€ì—ê²Œ ê°•í•˜ê²Œ ì–´í•„í•˜ë©°, ëˆˆì›ƒìŒì´ë‚˜ ë¶„ìœ„ê¸°ë§Œìœ¼ë¡œ ì´ì„±ì„ ë¬´ì¥í•´ì œ ì‹œí‚¤ëŠ” ê°•ë ¥í•œ ìœ í˜¹ì˜ í˜ì´ ìˆìŠµë‹ˆë‹¤.
                        </div>
                    </div>
                `;
            }

            // í™”ê°œ ì¹´ë“œ
            if(hwagaeScore > 30) {
                hasContent = true;
                listDiv.innerHTML += `
                    <div class="sinsal-card hwagae">
                        <div class="sinsal-name">ğŸ¨ í™”ê°œì‚´ (Covering Splendor) 

[Image of artistic painting tools]
</div>
                        <div class="sinsal-desc">
                            í™”ë ¤í•¨ì„ ë®ëŠ”ë‹¤ëŠ” ëœ»ìœ¼ë¡œ, ë‚´ë©´ì— ê¹Šì€ ì˜ˆìˆ ì„±ê³¼ ì² í•™ì„ í’ˆê³  ìˆìŠµë‹ˆë‹¤. 
                            ê³ ë…í•´ ë³´ì´ì§€ë§Œ ê·¸ ì‹ ë¹„ë¡œì›€ ë•Œë¬¸ì— ì‚¬ëŒë“¤ì´ ëŒë ¤ì˜µë‹ˆë‹¤. ì¢…êµ, ì˜ˆìˆ , í•™ë¬¸ ë¶„ì•¼ì—ì„œ ë‘ê°ì„ ë‚˜íƒ€ë‚´ë©° ì¬ê¸°(å†èµ·)ì˜ ì•„ì´ì½˜ì´ê¸°ë„ í•©ë‹ˆë‹¤.
                        </div>
                    </div>
                `;
            }

            if(!hasContent) {
                listDiv.innerHTML += `
                    <div class="sinsal-card">
                        <div class="sinsal-name">ğŸ€ ë§‘ì€ ê¸°ìš´ (Pure Energy)</div>
                        <div class="sinsal-desc">
                            íŠ¹ë³„í•œ ì‚´ì€ ë°œê²¬ë˜ì§€ ì•Šì•˜ì§€ë§Œ, ì´ëŠ” ì˜¤íˆë ¤ í¸íŒŒì ì´ì§€ ì•Šê³  ë‹´ë°±í•œ ë§¤ë ¥ì„ ì˜ë¯¸í•©ë‹ˆë‹¤. 
                            ìê·¹ì ì´ì§€ ì•Šì•„ ì˜¤ë«ë™ì•ˆ ì§ˆë¦¬ì§€ ì•ŠëŠ” 'ë³¼ë§¤' ìŠ¤íƒ€ì¼ë¡œ, ì§„ì •ì„±ìœ¼ë¡œ ìŠ¹ë¶€í•  ë•Œ ê°€ì¥ ë¹›ë‚©ë‹ˆë‹¤.
                        </div>
                    </div>
                `;
            }
        }

        // --- ì°¨íŠ¸ ë Œë”ë§ í•¨ìˆ˜ ---
        let myChart = null;
        function renderChart(d, h, hw) {
            const ctx = document.getElementById('popularityChart').getContext('2d');
            
            if(myChart) myChart.destroy(); // ê¸°ì¡´ ì°¨íŠ¸ ì‚­ì œ

            myChart = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: ['ë„í™”(ì¸ê¸°)', 'í™ì—¼(ë§¤ë ¥)', 'í™”ê°œ(ì˜ˆìˆ )'],
                    datasets: [{
                        label: 'ì¸ê¸° ì§€ìˆ˜',
                        data: [d, h, hw],
                        backgroundColor: [
                            'rgba(255, 99, 132, 0.6)', // ë„í™” - í•‘í¬
                            'rgba(153, 102, 255, 0.6)', // í™ì—¼ - ë³´ë¼
                            'rgba(255, 206, 86, 0.6)'  // í™”ê°œ - ë…¸ë‘
                        ],
                        borderColor: [
                            'rgba(255, 99, 132, 1)',
                            'rgba(153, 102, 255, 1)',
                            'rgba(255, 206, 86, 1)'
                        ],
                        borderWidth: 2,
                        borderRadius: 10
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: { beginAtZero: true, max: 100, grid: { display: false } },
                        x: { grid: { display: false } }
                    },
                    plugins: {
                        legend: { display: false }
                    }
                }
            });
        }
    </script>
</body>
</html>